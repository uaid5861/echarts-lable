import{d as J,r as w,a as S,w as j,b as o,z as $,c as i,e as N,f as h,h as F,A as p,k as t,j as e,s as r,B as O,F as T,C as H,p as R,m as q,_ as E}from"./index-e817b060.js";const K=v=>(R("data-v-55fbadc5"),v=v(),q(),v),M={class:"crudcon"},Q=["src"],Z=K(()=>h("h1",{style:{"margin-top":"40px","font-weight":"600","font-size":"24px",display:"flex","justify-content":"center"}},"不知道写什么先空着",-1)),P=J({__name:"Crud",setup(v){const g=w(!0),b=S([{avatar:"https://ibb.co/yFGHcrz",id:"12987122",date:"2016-05-03",name:"Tom1",address:"No. 189, Grove St, Los Angeles",state:"published",bili:"30%"},{avatar:"https://ibb.co/7QZz6HK",id:"12987123",date:"2016-05-02",name:"Tom2",address:"No. 189, Grove St, Los Angeles",state:"draft",bili:"30%"},{avatar:"https://ibb.co/N7RqRv3",id:"12987124",date:"2016-05-04",name:"Tom3",address:"No. 189, Grove St, Los Angeles",state:"deleted",bili:"30%"},{avatar:"https://ibb.co/BnwvBVJ",id:"12987125",date:"2016-05-01",name:"Tom4",address:"No. 189, Grove St, Los Angeles",state:"published",bili:"30%"},{avatar:"https://ibb.co/BnwvBVJ",id:"12987126",date:"2016-05-01",name:"Tom4",address:"No. 189, Grove St, Los Angeles",state:"published",bili:"30%"},{avatar:"https://ibb.co/BnwvBVJ",id:"12987127",date:"2016-05-01",name:"Tom4",address:"No. 189, Grove St, Los Angeles",state:"published",bili:"30%"},{avatar:"https://ibb.co/BnwvBVJ",id:"12987128",date:"2016-05-01",name:"Tom4",address:"No. 189, Grove St, Los Angeles",state:"published",bili:"30%"},{avatar:"https://ibb.co/BnwvBVJ",id:"12987129",date:"2016-05-01",name:"Tom4",address:"No. 189, Grove St, Los Angeles",state:"published",bili:"30%"}]),c=w(!1),y=w(""),s=w(""),d=S({avatar:"",id:"",date:"",name:"",address:"",state:"",bili:""}),x=(u,l)=>{Object.assign(d,u),s.value=l,y.value=l==="view"?"查看用户信息":"编辑用户信息",c.value=!0},L=()=>{Object.assign(d,{avatar:"",id:Date.now().toString(),date:new Date().toISOString().split("T")[0],name:"",address:"",state:"draft"}),s.value="add",y.value="添加用户",c.value=!0},k=()=>{if(s.value==="edit"){const u=b.findIndex(l=>l.id===d.id);u!==-1&&(b[u]={...d})}else s.value==="add"&&b.push({...d});c.value=!1};j(()=>b.length,u=>{g.value=u===0},{immediate:!0});const A=[{value:"10%",label:"10%"},{value:"20%",label:"20%"},{value:"30%",label:"30%"},{value:"40%",label:"40%"},{value:"50%",label:"50%",disabled:!0}];return(u,l)=>{const n=o("el-table-column"),V=o("el-tag"),_=o("el-button"),G=o("el-table"),C=o("el-input"),m=o("el-form-item"),f=o("el-option"),B=o("el-select"),U=o("el-form"),D=o("el-dialog"),I=$("loading");return i(),N(T,null,[h("div",M,[h("button",{class:"addbtn",onClick:L},"添加"),F((i(),p(G,{data:b,style:{width:"100%","margin-top":"20px"},"max-height":"400","default-sort":{prop:"id",order:"descending"}},{default:t(()=>[e(n,{prop:"avatar",label:"头像",width:"130"},{default:t(a=>[h("img",{src:a.row.avatar,style:{width:"40px",height:"40px","border-radius":"12px"}},null,8,Q)]),_:1}),e(n,{prop:"id",label:"ID",width:"180",sortable:""}),e(n,{prop:"name",label:"作者",width:"180"}),e(n,{prop:"date",label:"截稿日期",width:"180"}),e(n,{prop:"address",label:"地址",width:"280"}),e(n,{prop:"state",label:"状态",width:"180"},{default:t(a=>[a.row.state==="published"?(i(),p(V,{key:0,type:"success"},{default:t(()=>[r("已发布")]),_:1})):a.row.state==="draft"?(i(),p(V,{key:1,type:"info"},{default:t(()=>[r("草稿")]),_:1})):a.row.state==="deleted"?(i(),p(V,{key:2,type:"warning"},{default:t(()=>[r("已删除")]),_:1})):O("",!0)]),_:1}),e(n,{prop:"bili",label:"分成比例",width:"180"}),e(n,{label:"操作",width:"180",fixed:"right"},{default:t(a=>[e(_,{type:"text",size:"small",onClick:z=>x(a.row,"view")},{default:t(()=>[r("查看")]),_:2},1032,["onClick"]),e(_,{type:"text",size:"small",onClick:z=>x(a.row,"edit")},{default:t(()=>[r("编辑")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,g.value]]),e(D,{title:y.value,modelValue:c.value,"onUpdate:modelValue":l[5]||(l[5]=a=>c.value=a)},{footer:t(()=>[e(_,{onClick:l[4]||(l[4]=a=>c.value=!1)},{default:t(()=>[r("取消")]),_:1}),s.value!=="view"&&d.name!==""?(i(),p(_,{key:0,type:"primary",onClick:k},{default:t(()=>[r("保存")]),_:1})):(i(),p(_,{key:1,type:"primary",onClick:k,disabled:""},{default:t(()=>[r("保存")]),_:1}))]),default:t(()=>[e(U,{model:d,"label-width":"100px"},{default:t(()=>[e(m,{label:"姓名"},{default:t(()=>[e(C,{modelValue:d.name,"onUpdate:modelValue":l[0]||(l[0]=a=>d.name=a),disabled:s.value==="view"},null,8,["modelValue","disabled"])]),_:1}),e(m,{label:"地址"},{default:t(()=>[e(C,{modelValue:d.address,"onUpdate:modelValue":l[1]||(l[1]=a=>d.address=a),disabled:s.value==="view"},null,8,["modelValue","disabled"])]),_:1}),e(m,{label:"调整分成比例"},{default:t(()=>[e(B,{modelValue:d.bili,"onUpdate:modelValue":l[2]||(l[2]=a=>d.bili=a),placeholder:"Select",disabled:s.value==="view",style:{width:"240px"}},{default:t(()=>[(i(),N(T,null,H(A,a=>e(f,{key:a.value,label:a.label,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"])),64))]),_:1},8,["modelValue","disabled"])]),_:1}),e(m,{label:"状态"},{default:t(()=>[e(B,{modelValue:d.state,"onUpdate:modelValue":l[3]||(l[3]=a=>d.state=a),disabled:s.value==="view",style:{width:"240px"}},{default:t(()=>[e(f,{label:"已发布",value:"published"}),e(f,{label:"草稿",value:"draft"}),e(f,{label:"已删除",value:"deleted"})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])]),Z],64)}}});const W=E(P,[["__scopeId","data-v-55fbadc5"]]),Y={__name:"Leaderboard",setup(v){return(g,b)=>(i(),p(W))}};export{Y as default};
